### Todo 1：查詢學生成績計算規則（PostgreSQL）

**目的**  
依多筆學生 ID，回傳每位學生的成績計算規則內容，優先使用學生的 `ref_score_calc_rule_id`，否則使用班級的 `ref_score_calc_rule_id`。

**資料表**
- `student(id, ref_class_id, ref_score_calc_rule_id)`
- `class(id, ref_score_calc_rule_id)`
- `score_calc_rule(id, content)`

**輸入**
- 多筆學生 ID（整數陣列），如 `[1,2,3]`

**輸出**
- `student_id` (int)
- `content` (text，可為 NULL)

**實作規則**
1. 若 `student.ref_score_calc_rule_id` 非空 → 直接關聯 `score_calc_rule.id`
2. 否則使用 `class.ref_score_calc_rule_id`
3. 找不到規則時 `content` 為 NULL

**SQL 範例**
```sql
SELECT 
    s.id AS student_id,
    scr.content
FROM student s
LEFT JOIN class c ON c.id = s.ref_class_id
LEFT JOIN score_calc_rule scr 
  ON scr.id = COALESCE(s.ref_score_calc_rule_id, c.ref_score_calc_rule_id)
WHERE s.id = ANY(ARRAY[1, 2, 3]);
